<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Tinder</title>
    <style>
        /* Light Mode Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            text-align: center;
            background-color: #f7f7f7;
            color: #333;
        }

        .container {
            width: 400px;
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
            position: relative;
            overflow: hidden;
        }

        h1 {
            margin-bottom: 20px;
        }

        .emoji-card {
            font-size: 100px;
            cursor: pointer;
            user-select: none;
        }

        #controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            padding: 12px 20px;
            font-size: 16px;
            background-color: #ff6347;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 10px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #ff4500;
        }

        #saved-emojis {
            margin-top: 20px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        #saved-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
            margin: 10px 0;
            padding: 5px;
            transition: height 0.3s ease;
            overflow-y: auto;
            max-height: 200px;
        }

        .saved-emoji {
            font-size: 40px;
            display: inline-block;
            margin: 5px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .saved-emoji:hover {
            transform: scale(1.2);
        }

        #reset-button {
            margin-top: 20px;
            padding: 10px 15px;
            background-color: #ff4500;
            border-radius: 10px;
            border: none;
            color: white;
            cursor: pointer;
        }

        #reset-button:hover {
            background-color: #ff6347;
        }

        #copy-notification {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #4caf50;
            color: white;
            font-size: 18px;
            text-align: center;
            padding: 10px;
            display: none;
            z-index: 1000;
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #333;
            color: #fff;
        }

        .container.dark-mode {
            background-color: #444;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        button.dark-mode {
            background-color: #ff4500;
        }

        #reset-button.dark-mode {
            background-color: #ff6347;
        }

        /* Popup Styles */
        #confirmation-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .popup-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            width: 300px;
        }

        .popup-button {
            padding: 10px 15px;
            margin: 10px;
            background-color: #ff6347;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        .popup-button:hover {
            background-color: #ff4500;
        }

        .popup-button.cancel {
            background-color: #cccccc;
        }

        .popup-button.cancel:hover {
            background-color: #999999;
        }

  /* Instructions Popup */
#instructions-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.instructions-content {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    width: 300px;
    color: #333; /* Default text color for light mode */
}

.instructions-content h3 {
    margin-bottom: 20px;
}

/* Dark Mode Adjustments for Instructions Popup */
body.dark-mode #instructions-popup .instructions-content {
    background-color: #444;
    color: white; /* Text color for dark mode */
}

.instructions-button {
    padding: 10px 15px;
    background-color: #ff6347;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.instructions-button:hover {
    background-color: #ff4500;
}


        /* Watermark */
        .watermark {
            position: fixed;
            bottom: 10px;
            left: 10px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
        }

        .watermark a {
            color: #ff6347;
            text-decoration: none;
        }
    </style>
</head>

<body>

    <div class="container">
        <button id="dark-mode-toggle" onclick="toggleDarkMode()" style="position: absolute; top: 10px; left: 10px;">üåô</button>
        <button id="question-mark-button" onclick="showInstructionsPopup()" style="position: absolute; top: 10px; right: 10px;">‚ùì</button>

        <h1>Emoji Tinder</h1>
        <div class="emoji-card" id="emoji" onmousedown="startSwipe(event)">
            üòÄ
        </div>
        <div id="controls">
            <button onclick="rejectEmoji()">Reject</button>
            <button onclick="saveEmoji()">Save</button>
        </div>
        <div id="saved-emojis">
            <button id="reset-button" onclick="showConfirmationPopup()">Reset Saved Emojis</button>
            <h2>Saved Emojis</h2>
            <div id="saved-list"></div>
        </div>
    </div>

    <!-- Confirmation Popup -->
    <div id="confirmation-popup">
        <div class="popup-content">
            <h3>Are you sure you want to reset all saved emojis?</h3>
            <button class="popup-button" onclick="resetSavedEmojis()">Yes</button>
            <button class="popup-button cancel" onclick="closeConfirmationPopup()">No</button>
        </div>
    </div>

    <!-- Instructions Popup -->
    <div id="instructions-popup">
        <div class="instructions-content">
            <h3>How to Use:</h3>
            <p>1. Swipe right to save emojis.</p>
            <p>2. Swipe left to reject emojis.</p>
            <p>3. Click saved emojis to copy them to clipboard.</p>
            <button class="instructions-button" onclick="closeInstructionsPopup()">Close</button>
        </div>
    </div>

    <!-- Copy Notification -->
    <div id="copy-notification">Emoji copied to clipboard!</div>

    <!-- Watermark -->
    <div class="watermark">
        <a href="https://lordpenguinvr.github.io/" target="_blank">Created by LordPenguinVR</a>
    </div>

    <script>
        const apiKey = 'fbbe08f5c8259c2e0cfac13b3838eb68584639a0'; // Replace with your API key from emoji-api.com
        let savedEmojis = JSON.parse(localStorage.getItem('savedEmojis')) || [];
        let startX, startY, isSwiping = false;
        let emojiElement = document.getElementById('emoji');
        let emojiThreshold = 150;
        let darkMode = localStorage.getItem('darkMode') === 'true';

        // Load the theme on page load
        if (darkMode) {
            document.body.classList.add('dark-mode');
            document.querySelector('.container').classList.add('dark-mode');
            document.getElementById('dark-mode-toggle').textContent = 'üåû';
        }

        function fetchEmoji() {
            fetch(`https://emoji-api.com/emojis?access_key=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    const emoji = data[Math.floor(Math.random() * data.length)].character;
                    emojiElement.textContent = emoji;
                    emojiElement.classList.remove('swiped-left', 'swiped-right');
                    resetEmojiPosition();
                })
                .catch(err => console.error('Error fetching emoji:', err));
        }

        function saveEmoji() {
            const emoji = emojiElement.textContent;
            if (!savedEmojis.includes(emoji)) {
                savedEmojis.push(emoji);
                localStorage.setItem('savedEmojis', JSON.stringify(savedEmojis));
                updateSavedEmojis();
            }
            fetchEmoji();
        }

        function rejectEmoji() {
            emojiElement.classList.add('swiped-left');
            fetchEmoji();
        }

        function updateSavedEmojis() {
            const savedList = document.getElementById('saved-list');
            savedList.innerHTML = '';
            savedEmojis.forEach(emoji => {
                const emojiElement = document.createElement('span');
                emojiElement.textContent = emoji;
                emojiElement.classList.add('saved-emoji');
                emojiElement.onclick = () => copyEmojiToClipboard(emoji);
                savedList.appendChild(emojiElement);
            });
        }

        function resetEmojiPosition() {
            emojiElement.style.transform = 'none';
        }

        function startSwipe(event) {
            startX = event.clientX;
            startY = event.clientY;
            isSwiping = true;

            document.onmousemove = (e) => {
                if (!isSwiping) return;
                const diffX = e.clientX - startX;
                emojiElement.style.transform = `translateX(${diffX}px)`;
                const rotation = (diffX / window.innerWidth) * 30;
                emojiElement.style.transform += ` rotate(${rotation}deg)`;
            };

            document.onmouseup = (e) => {
                if (isSwiping) {
                    isSwiping = false;
                    const diffX = e.clientX - startX;
                    if (diffX < -emojiThreshold) {
                        emojiElement.classList.add('swiped-left');
                        rejectEmoji();
                    } else if (diffX > emojiThreshold) {
                        emojiElement.classList.add('swiped-right');
                        saveEmoji();
                    } else {
                        resetEmojiPosition();
                    }

                    document.onmousemove = null;
                    document.onmouseup = null;
                }
            };
        }

        function resetSavedEmojis() {
            savedEmojis = [];
            localStorage.removeItem('savedEmojis');
            updateSavedEmojis();
            closeConfirmationPopup();
        }

        function showConfirmationPopup() {
            document.getElementById('confirmation-popup').style.display = 'flex';
        }

        function closeConfirmationPopup() {
            document.getElementById('confirmation-popup').style.display = 'none';
        }

        function copyEmojiToClipboard(emoji) {
            navigator.clipboard.writeText(emoji).then(() => {
                const notification = document.getElementById('copy-notification');
                notification.style.display = 'block';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 2000);
            }).catch(err => console.error('Failed to copy emoji:', err));
        }

        function toggleDarkMode() {
            darkMode = !darkMode;
            if (darkMode) {
                document.body.classList.add('dark-mode');
                document.querySelector('.container').classList.add('dark-mode');
                document.getElementById('dark-mode-toggle').textContent = 'üåû';
            } else {
                document.body.classList.remove('dark-mode');
                document.querySelector('.container').classList.remove('dark-mode');
                document.getElementById('dark-mode-toggle').textContent = 'üåô';
            }
            localStorage.setItem('darkMode', darkMode);
        }

        function showInstructionsPopup() {
            document.getElementById('instructions-popup').style.display = 'flex';
        }

        function closeInstructionsPopup() {
            document.getElementById('instructions-popup').style.display = 'none';
        }

        fetchEmoji();
        updateSavedEmojis();

    </script>

</body>

</html>
